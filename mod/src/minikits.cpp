/**
 * @file minikits.cpp
 * @author ZAPaDASH04 (ZAPaDASH04@gmail.com) @ZAPaDASH04
 * @brief 
 * @version 0.1
 * @date 2025-08-01
 * 
 * @copyright Copyright (c) 2025
 * 
 */

#include "minikits.h"



Minikits::Minikits(DWORD BASE_ADDR) :
    BASE_ADDR(BASE_ADDR)
{
    // kitTable[{0x12, "pup4"     }] = 0;
    // kitTable[{0x12, "m_pup1"   }] = 1;
    // 12 pup3
    // 12 pup2
    // 12 pup1
    // 12 pup5
    // 13 m_pup1
    // 13 pup2
    // 13 pup1
    // 13 MIN_FO5
    kitTable = {

        // Episode 1

        {{0x12, "pup4"      },   0},
        {{0x12, "m_pup1"    },   1},
        {{0x12, "pup3"      },   2},
        {{0x12, "pup2"      },   3},
        {{0x12, "pup1"      },   4},
        {{0x12, "pup5"      },   5},
        {{0x13, "m_pup1"    },   6},
        {{0x13, "pup2"      },   7},
        {{0x13, "pup1"      },   8},
        {{0x13, "MIN_FO5"   },   9},
        {{0x1E, "m_pup3"    },  10},
        {{0x1E, "mk_1"      },  11},
        {{0x1E, "m_pup2"    },  12},
        {{0x1E, "mk_0"      },  13},
        {{0x1E, "m_pup1"    },  14},
        {{0x1E, "BRUCE_M"   },  15},
        {{0x1F, "mk_0"      },  16},
        {{0x1F, "MIKIgas"   },  17},
        {{0x1F, "mk_1"      },  18},
        {{0x1F, "M_CIV"     },  19},
        // "2B SUPKIT1
        // 2B SUPKIT2
        // 2B SUPKIT3"
        {{0x2B, "SUPKIT1"   },  20},
        {{0x2B, "SUPKIT2"   },  20},
        {{0x2B, "SUPKIT3"   },  20},
        {{0x2B, "MKIT_MH"   },  21},
        {{0x2C, "MKIT_6"    },  22},
        // "2C CARKIT1
        // 2C CARKIT2
        // 2C CARKIT3"
        {{0x2C, "CARKIT1"   },  23},
        {{0x2C, "CARKIT2"   },  23},
        {{0x2C, "CARKIT3"   },  23},
        {{0x2C, "MKIT_3"    },  24},
        {{0x2C, "MKIT_2"    },  25},
        {{0x2C, "MKIT_5"    },  26},
        {{0x2C, "MKIT_4"    },  27},
        {{0x2D, "MKIT_10"   },  28},
        {{0x2D, "SUPKIT6"   },  29},
        {{0x30, "MINI02"    },  30},
        {{0x30, "MINI01"    },  31},
        {{0x31, "MINI03"    },  32},
        {{0x31, "MINI04"    },  33},
        {{0x31, "m_pup1"    },  34},
        {{0x32, "MINI06"    },  35},
        {{0x32, "MINI08"    },  36},
        // "33 MINI09
        // 33 CARROTB
        // 33 CARROTC"
        {{0x33, "MINI09"    },  37},
        {{0x33, "CARROTB"   },  37},
        {{0x33, "CARROTC"   },  37},
        {{0x33, "m_pup1"    },  38},        
        {{0x33, "MINI10"    },  39},        
        {{0x48, "M_BOLL"    },  40},        
        {{0x48, "m_pup1"    },  41},        
        {{0x48, "DOLLAR"    },  42},        
        {{0x48, "mk_3"      },  43},      
        {{0x48, "mk_1"      },  44},      
        {{0x4A, "m_pup1"    },  45},        
        {{0x4A, "mk_1"      },  46},      
        {{0x4A, "mk_0"      },  47},      
        {{0x4B, "m_pup1"    },  48},        
        // "4B mIN_C1
        // 4B mIN_C2
        // 4B mIN_C3
        // 4B mIN_C3
        // 4B mIN_C4
        // 4B mIN_C5"
        {{0x4B, "mIN_C1"    },  49},
        {{0x4B, "mIN_C2"    },  49},
        {{0x4B, "mIN_C3"    },  49},
        {{0x4B, "mIN_C3"    },  49},
        {{0x4B, "mIN_C4"    },  49},
        {{0x4B, "mIN_C5"    },  49},

        // Episode 2

        {{0x5B, "pup124"    },  50},
        {{0x5B, "MINI_GA"   },  51},
        {{0x5B, "MINI_G2"   },  52},
        {{0x5B, "MINI_C1"   },  53},
        {{0x5B, "MINI_C2"   },  53},
        {{0x5B, "MINI_C3"   },  53},
        {{0x5B, "MINI_G1"   },  54},
        {{0x5C, "MINI_MO"   },  55},
        {{0x5C, "MINI_KI"   },  56},
        {{0x5C, "MINI_FA"   },  57},
        {{0x5C, "pup46"     },  58},
        {{0x5C, "pup2"      },  59},
        {{0x74, "MK_RAMP"   },  60},
        {{0x74, "MK_01"     },  61},
        {{0x74, "MK_BOAT"   },  62},
        {{0x74, "mk_0"      },  63},
        {{0x75, "MK_ICE"    },  64},
        {{0x75, "MK_DRAG"   },  65},
        {{0x75, "PIPE_MK"   },  66},
        {{0x75, "BUOYMK2"   },  67},
        {{0x75, "BUOYMK3"   },  67},
        {{0x75, "BUOYMK1"   },  67},
        {{0x77, "mk_1"      },  68},
        {{0x77, "MK_DB"     },  69},
        {{0x66, "MINI1"     },  70},
        {{0x66, "MINI_CO"   },  71},
        {{0x67, "MINI_CA"   },  72},
        {{0x67, "pup1"      },  73},
        {{0x67, "MINI_B"    },  74},
        {{0x68, "MINI4"     },  75},
        {{0x68, "MINI_BO"   },  76},
        {{0x68, "MINI_LI"   },  77},
        {{0x68, "MINI_DM"   },  78},
        {{0x68, "MINI_PI"   },  79},
        {{0x87, "m_pup1"    },  80},
        {{0x87, "mk_0"      },  81},     
        {{0x87, "m_pup2"    },  82},
        {{0x87, "ShopMK"    },  83},
        {{0x88, "Totemmk"   },  84},
        {{0x88, "Boulder"   },  85},
        {{0x88, "mk_0"      },  86},
        {{0x89, "MKLIL"     },  87},
        {{0x89, "mk_1"      },  88},
        {{0x89, "MK01"      },  89},
        {{0x8E, "mk_2"      },  90},
        {{0x8E, "mk_3"      },  91},
        {{0x8E, "mk_1"      },  92},
        {{0x8E, "m_pup1A"   },  93},
        {{0x8E, "m_pup1B"   },  93},
        {{0x8E, "m_pup1C"   },  93},
        {{0x8E, "mk_0"      },  94},
        {{0x8F, "mk_2"      },  95},
        {{0x8F, "mk_1"      },  96},
        {{0x8F, "mk_0"      },  97},
        {{0x8F, "m_pup1"    },  98},
        {{0x8F, "m_pup2"    },  99},

        // Episode 3

        {{0xA0, "mk_0"      }, 100},
        {{0xA0, "m_pup1"    }, 101},
        {{0xA0, "mk_2"      }, 102},
        {{0xA0, "mk_1"      }, 103},
        {{0xA1, "m_pup1"    }, 104},
        {{0xA1, "mk_0"      }, 105},
        {{0xA1, "mk_1"      }, 106},
        {{0xA1, "mk_2"      }, 107},
        {{0xA2, "mk_0"      }, 108},
        {{0xA2, "m_pup1"    }, 109},
        {{0xA6, "MINI_1"    }, 110},
        {{0xA6, "MINI_2"    }, 111},
        {{0xA6, "MINI_3"    }, 112},
        {{0xA6, "mk_0"      }, 113},
        {{0xA7, "MINI_9"    }, 114},
        {{0xA7, "MINI_4"    }, 115},
        {{0xA7, "MINI_6"    }, 116},
        {{0xA8, "MINI_7"    }, 117},
        {{0xA8, "MINI_8"    }, 118},
        {{0xA8, "MINI_10"   }, 119},
        {{0xAC, "m_pup6"    }, 120},
        {{0xAC, "m_pup2"    }, 121},
        {{0xAC, "m_pupER"   }, 122},
        {{0xAC, "m_pup4"    }, 123},
        {{0xAD, "mk_0"      }, 124},
        {{0xAD, "mk_2"      }, 125},
        {{0xAE, "GAR_MK1"   }, 126},
        {{0xAE, "GAR_MK2"   }, 126},
        {{0xAE, "GAR_MK3"   }, 126},
        {{0xAD, "m_BAR"     }, 127}, 
        {{0xAE, "m_pup1"    }, 128},
        {{0xAE, "m_pup3"    }, 129},
        {{0xB8, "m_pup1"    }, 130},
        {{0xB8, "m_roof"    }, 131},
        {{0xB8, "m_tur1"    }, 132},
        {{0xB8, "m_tur2"    }, 132},
        {{0xB8, "m_tur3"    }, 132},
        {{0xB9, "AQUARIU"   }, 133},
        {{0xB9, "COP_KI"    }, 134},
        {{0xBA, "W_KIT"     }, 135},
        {{0xBA, "HI_KIT"    }, 136},
        {{0xBA, "m_pup2"    }, 137},
        {{0xBB, "m_pup1"    }, 138},
        {{0xB8, "m_jkr"     }, 139},
        {{0xC6, "mK_G1"     }, 140},
        {{0xC6, "mK_G2"     }, 140},
        {{0xC6, "mK_G3"     }, 140},
        {{0xC6, "mk_0"      }, 141},
        {{0xC6, "mKSONAR"   }, 142},
        {{0xC6, "mk_1"      }, 143},
        {{0xC6, "m_pup1"    }, 144},
        {{0xC7, "mk_JOKE"   }, 145},
        {{0xC7, "m_pup1"    }, 146},
        {{0xC7, "mk_SONR"   }, 147},
        {{0xC8, "mk_0"      }, 148},
        {{0xC8, "mk_CRAT"   }, 149},

        // Episode 4
        // Yes there are no multikits

        {{0x18, "mk_0"      }, 150},
        {{0x18, "mk_1"      }, 151},
        {{0x18, "m_Smash"   }, 152},
        {{0x19, "mk_0"      }, 153},
        {{0x19, "mk_1"      }, 154},
        {{0x19, "mk_2"      }, 155},
        {{0x1A, "mk_0"      }, 156},
        {{0x1A, "mk_1"      }, 157},
        {{0x1A, "pup2"      }, 158},
        {{0x1A, "m_pup1"    }, 159},
        {{0x24, "MK_gara"   }, 160},
        {{0x24, "IceMenK"   }, 161},
        {{0x24, "m_pup1"    }, 162},
        {{0x25, "m_pup1"    }, 163},
        {{0x25, "gates_M"   }, 164},
        {{0x26, "mk_1"      }, 165},
        {{0x26, "mk_0"      }, 166},
        {{0x26, "m_pup1"    }, 167},
        {{0x27, "mk_END"    }, 168},
        {{0x27, "mk_IP"     }, 169},
        {{0x37, "m_Race"    }, 170},
        {{0x37, "mk_0"      }, 171},
        {{0x37, "mk_1"      }, 172},
        {{0x38, "m_pup1"    }, 173},
        {{0x38, "m_FOUNT"   }, 174},
        {{0x38, "m_pup2"    }, 175},
        {{0x39, "mk_1"      }, 176},
        {{0x39, "mk_0"      }, 177},
        {{0x39, "m_pup1"    }, 178},
        {{0x3A, "m_pup1"    }, 179},
        {{0x3F, "mk_0"      }, 180},
        {{0x3F, "m_pup1"    }, 181},
        {{0x3F, "mk_1"      }, 182},
        {{0x3F, "m_pup2"    }, 183},
        {{0x40, "m_pup12"   }, 184},
        {{0x40, "KIT"       }, 185},
        {{0x41, "mk_0"      }, 186},
        {{0x41, "mk_1"      }, 187},
        {{0x41, "PIPEKIT"   }, 188},
        {{0x42, "mk_1"      }, 189},
        {{0x50, "mk_0"      }, 190},
        {{0x50, "mk_1"      }, 191},
        {{0x51, "mk_0"      }, 192},
        {{0x51, "mk_2"      }, 193},
        {{0x51, "mk_1"      }, 194},
        {{0x51, "m_pup1"    }, 195},
        {{0x52, "m_pup2"    }, 196},
        {{0x52, "m_pup1"    }, 197},
        {{0x53, "mk_1"      }, 198},
        {{0x53, "m_pup1"    }, 199},

        // Episode 5

        {{0x81, "m_pup1"    }, 200},
        {{0x81, "m_1"       }, 201},
        {{0x81, "m_2"       }, 201},
        {{0x81, "m_3"       }, 201},
        {{0x81, "mk_1"      }, 202},
        {{0x81, "CARGO"     }, 203},
        {{0x82, "m_pup1"    }, 204},
        {{0x82, "CM1"       }, 205},
        {{0x82, "CM2"       }, 205},
        {{0x82, "CM3"       }, 205},
        {{0x82, "CM4"       }, 205},
        {{0x82, "CM5"       }, 205},
        {{0x83, "SLALUM"    }, 206},
        {{0x83, "SEAWEED"   }, 207},
        {{0x83, "JUKE"      }, 208},
        {{0x83, "RT"        }, 209},
        {{0x61, "MINI_WI"   }, 210},
        {{0x61, "m_pup1A"   }, 211},
        {{0x61, "m_pup1B"   }, 211},
        {{0x61, "m_pup1C"   }, 211},
        {{0x61, "mk_1"      }, 212},
        {{0x61, "mk_0"      }, 213},
        {{0x61, "mk_2"      }, 214},
        {{0x61, "m_pup1"    }, 215},
        {{0x62, "SONARMK"   }, 216},
        {{0x62, "m_pup3"    }, 217},
        {{0x62, "m_pup2"    }, 218},
        {{0x62, "Saa"       }, 219},
        {{0x7B, "MKIT_1"    }, 220},
        {{0x7B, "SUPKIT1"   }, 221},
        {{0x7B, "SUPKIT2"   }, 221},
        {{0x7B, "SUPKIT3"   }, 221},
        {{0x7B, "MKIT_2"    }, 222},
        {{0x7C, "SUPKIT1"   }, 223},
        {{0x7C, "SUPKIT2"   }, 223},
        {{0x7C, "SUPKIT3"   }, 223},
        {{0x7C, "SUPKIT4"   }, 223},
        {{0x7C, "SUPKIT5"   }, 223},
        {{0x7C, "MKIT_4"    }, 224},
        {{0x7C, "MKIT_5"    }, 225},
        {{0x7C, "MKIT_8"    }, 226},
        {{0x7C, "MKIT_7"    }, 227},
        {{0x7D, "MKIT_9"    }, 228},
        {{0x7D, "MKIT_10"   }, 229},
        {{0x6D, "mk_0"      }, 230},
        {{0x6D, "MK_BAND"   }, 231},
        {{0x6D, "mk_1"      }, 232},
        {{0x6E, "m_1"       }, 233},
        {{0x6E, "m_2"       }, 233},
        {{0x6E, "m_3"       }, 233},
        {{0x6E, "m_4"       }, 233},
        {{0x6E, "m_5"       }, 233},
        {{0x6F, "AT_MI"     }, 234},
        {{0x6F, "mk_1"      }, 235},
        {{0x6E, "m_pup1"    }, 236},
        {{0x6F, "mk_0"      }, 237},
        {{0x70, "mk_0"      }, 238},
        {{0x70, "mk_1"      }, 239},
        {{0x96, "mk_1"      }, 240},
        {{0x96, "m_pup1"    }, 241},
        {{0x96, "mk_2"      }, 242},
        {{0x96, "mk_3"      }, 243},
        {{0x97, "mk_2"      }, 244},
        {{0x97, "mk_1"      }, 245},
        {{0x97, "MK6"       }, 246},
        {{0x98, "MK_9"      }, 247},
        {{0x98, "m_pup1"    }, 248},
        {{0x98, "MK_10"     }, 249},

        // Episode 6

        {{0xB2, "MINI01"    }, 250},
        {{0xB2, "MINI05"    }, 251},
        {{0xB2, "MINI_I1"   }, 252}, // old
        {{0xB2, "MINI10A"   }, 252}, // new
        {{0xB2, "MINI_I2"   }, 252},
        {{0xB3, "MINI_I3"   }, 252}, // old
        {{0xB4, "m_pupC"    }, 252}, // new
        {{0xB2, "MINI_03"   }, 253},
        {{0xB2, "MINI04"    }, 254},
        {{0xB2, "m_pup2"    }, 255},
        {{0xB3, "MINI06"    }, 256},
        {{0xB4, "m_pup1"    }, 257},
        {{0xB4, "MINI07"    }, 258},
        {{0xB4, "pup2"      }, 259},
        {{0xD4, "MK1K"      }, 260},  
        {{0xD2, "mk_PULL"   }, 261},
        {{0xD2, "mk_3"      }, 262},
        {{0xD2, "MKFT1"     }, 263},
        {{0xD3, "MK_JH1"    }, 264},
        {{0xD3, "MK_JH2"    }, 264},
        {{0xD3, "MK_JH3"    }, 264},
        {{0xD3, "GENmk"     }, 265},
        {{0xD3, "m_pup1"    }, 266},
        {{0xD3, "mk_4"      }, 267},
        {{0xD4, "m_pup2"    }, 268},
        {{0xD4, "m_pup1"    }, 269},
        {{0xD9, "m_pup11"   }, 270},
        {{0xD9, "m_pup12"   }, 270},
        {{0xD8, "m_pup13"   }, 270},
        {{0xD8, "mk_1"      }, 271},
        {{0xD8, "m_pup1"    }, 272},
        {{0xD8, "mk_0"      }, 273},
        {{0xD9, "mk_0"      }, 274},
        {{0xD9, "mk_1"      }, 275},
        {{0xD9, "m_pup1D"   }, 276},
        {{0xDA, "m_pup1"    }, 277},
        {{0xDA, "mk_0"      }, 278},
        {{0xDA, "mk_1"      }, 279},
        {{0xC0, "MCONTRO"   }, 280},
        {{0xC0, "Q_KIT"     }, 281},
        {{0xC0, "ROOF"      }, 282},
        {{0xC0, "WATER"     }, 283},
        {{0xC1, "m_pup2"    }, 284},
        {{0xC1, "m_pup1"    }, 285},
        {{0xC1, "1"         }, 286},
        {{0xC1, "2"         }, 286},
        {{0xC1, "3"         }, 286},
        {{0xC1, "4"         }, 286},
        {{0xC1, "5"         }, 286},
        {{0xC1, "m_pup3"    }, 287},
        {{0xC2, "m_pup1"    }, 288},
        {{0xC2, "SONA1"     }, 289},
        {{0xCC, "mk_0"      }, 290},
        {{0xCC, "mk_2"      }, 291},
        {{0xCC, "mK_ALT"    }, 292},
        {{0xCD, "mk_0"      }, 293},
        {{0xCD, "m_pup1"    }, 294},
        {{0xCD, "MK_WEIG"   }, 295},
        {{0xCD, "mk_1"      }, 296},
        {{0xCD, "mK_FRZ"    }, 297},
        {{0xCE, "mK_FBEL"   }, 298},
        {{0xCE, "mK_BELL"   }, 299}
    };
}

DWORD Minikits::findKitIndex(BYTE level, const char* name) {
    Key key = {level, std::string(name, strnlen(name,8))};
    auto it = kitTable.find(key);
    if (it != kitTable.end()) {
        return it->second;
        // Use it
    }
    return -1;
}